version: 2
sources:
  - name: datafeed_shared_schema
    database: "{{('PROJECT_DB')}}"
    schema: ROW_SCHEMA
    tables:
      - name: ROW_CUSTOMERS
      - name: raw_orders
      - name: customers
      - name: raw_employee_salary
      - name: raw_products
      - name: stg_orders
        columns:
          - name: order_id
            tests:
              - unique
              - not_null
          - name: ship_mode
            tests:
              - accepted_values:
                  values: ['First Class','Same Day','Second Class','Standard Class']
          - name: order_id
            tests:
              - relationships:
                  to: ref('order1')
                  field: order_id
  - name: Snowflake_data
    database: "{{'PROJECT_SALES'}}"
    schema: raw_schema
    tables:
      - name: RAW_LINEITEM
        columns:
          - name: l_orderkey
            tests:
              - not_null
          - name: l_quantity
            tests:
               - not null
          - name: l_linenumber
            tests:
              - not_null
      - name: RAW_NATION
        columns:
          - name: n_nationkey
            tests:
              - unique
              - not null 
          - name: n_name 
            tests:
              - not null
      - name: RAW_ORDER
        columns:
          - name: o_orderkey
            tests:
            - unique
            - not null
      - name: RAW_CUSTOMER
        columns:
          - name: c_custkey
            tests:
              - unique
              - not null
          - name: c_name
            tests:
              - not null
      - name: raw_customer_nation
        columns:
          - name: c_cuskkey
            tests:
            - not null
            - unique
      - name: RAW_PART
        columns:
          - name: p_partkey
            tests:
              - unique
              - not null
      - name: RAW_PARTSUPP 
        columns:
          - name: ps_partkey
            tests:
              - unique
              - not null
      - name: RAW_REGION
        columns:
          - name:  r_regionkey
            test :
              - not - not_null
              - unique
      - name: RAW_SUPPLIER
        columns:
          - name: s_suppkey
            tests:
              - not null
              - unique
            
                               
                


       
        
            
    
    
         
    